
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="it">
  <head>
    <meta charset="utf-8" />
    <title>Input/output (ed altro) con la libreria standard in C &#8212; Labprog @ UniMI 1.0-beta documentazione</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.1.0/lumen/bootstrap.min.css">
    <link rel="stylesheet" href="_static/custom.css" type="text/css">
    <link rel="stylesheet" href="_static/pygments.css" type="text/css">
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Indice" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
    <link rel="prev" title="Input/output (ed altro) con le API di Java" href="javaio.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="Una raccolta di più di duecentocinquanta esercizi corredati di testcase e guide su GNU/Linux, Java e C.">

    <!-- Verification for Google search -->
    <meta name="google-site-verification" content="DLtR6Lm75qujQDCAeHv1Am-h5-g69PdfKA-r8Ut-6JY">

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@mapio">
    <meta name="twitter:creator" content="@mapio">
    <meta name="twitter:title" content="LabProg@UniMI — Dieci anni di codice">
    <meta name="twitter:description" content="Una raccolta di più di duecentocinquanta esercizi corredati di testcase e guide su GNU/Linux, Java e C.">
    <meta name="twitter:image" content="https://labprog.mapio.it/_static/logo.png">

    <!-- Open Graph data -->
    <meta property="og:title" content="LabProg@UniMI — Dieci anni di codice">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://labprog.mapio.it/">
    <meta property="og:image" content="https://labprog.mapio.it/_static/logo.png">
    <meta property="og:description" content="Una raccolta di più di duecentocinquanta esercizi corredati di testcase e guide su GNU/Linux, Java e C.">
    <meta property="og:site_name" content="LabProg@UniMI — Dieci anni di codice">
    <meta property="article:published_time" content="2019-01-25T08:55:00.809614">
    <meta property="article:modified_time" content="2019-01-25T08:55:00.809614">

    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css"/>
    <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
    <script>
    window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#eaf7f7",
          "text": "#5c7291"
        },
        "button": {
          "background": "#56cbdb",
          "text": "#ffffff"
        }
      },
      "position": "bottom-right",
      "content": {
        "message": "Questo sito utilizza cookie per raccogliere informazioni, in forma aggregata, sul numero degli utenti.",
        "dismiss": "Va bene!",
        "link": "Maggiori informazioni.",
        "href": "http://www.unimi.it/62210.htm"
      }
    })});
    </script>

  </head><body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="index.html">LabProg@UniMI</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarColor03">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="esercizi.html">Esercizi</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="strumenti.html">Strumenti</a>
      </li>
      <li class="nav-item dropdown">
             <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
               Guide
             </a>
             <div class="dropdown-menu" aria-labelledby="navbarDropdown">
               <a class="dropdown-item" href="linux.html">GNU/Linux</a>
               <a class="dropdown-item" href="javaio.html">Java I/O</a>
               <a class="dropdown-item" href="cstdio.html">C I/O</a>
             </div>
      </li>
      
      <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown2" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="far fa-list-alt"></i>
          </a>
          <div class="dropdown-menu tocnav" aria-labelledby="navbarDropdown2">
          <ul>
<li><a class="reference internal" href="#">Input/output (ed altro) con la libreria standard in C</a><ul>
<li><a class="reference internal" href="#argomenti-sulla-linea-di-comando">Argomenti sulla linea di comando</a></li>
<li><a class="reference internal" href="#input-output">Input/Output</a><ul>
<li><a class="reference internal" href="#flussi-standard">Flussi standard</a></li>
<li><a class="reference internal" href="#non-formattato">Non formattato</a><ul>
<li><a class="reference internal" href="#orientato-al-carattere">Orientato al carattere</a></li>
<li><a class="reference internal" href="#orientato-alla-linea">Orientato alla linea</a></li>
</ul>
</li>
<li><a class="reference internal" href="#formattato">Formattato</a></li>
</ul>
</li>
<li><a class="reference internal" href="#array-dinamici">Array dinamici</a></li>
<li><a class="reference internal" href="#stringhe">Stringhe</a><ul>
<li><a class="reference internal" href="#scrivere-un-numero-in-una-stringa">Scrivere un numero in una stringa</a></li>
<li><a class="reference internal" href="#creare-una-copia-di-una-stringa">Creare una copia di una stringa</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ordinamenti">Ordinamenti</a></li>
</ul>
</li>
</ul>

          </div>
      </li>
      
    </ul>
    <form class="form-inline my-2 my-lg-0" action="search.html" method="get">
      <input name="q" class="form-control mr-sm-2" type="text" placeholder="parola chiave">
      <button class="btn btn-secondary my-2 my-sm-0" type="submit">Cerca</button>
    </form>
  </div>
</nav>
  

    <div class="document">
    <main class="container">
        
  <div class="section" id="input-output-ed-altro-con-la-libreria-standard-in-c">
<span id="cstdio-label"></span><h1>Input/output (ed altro) con la libreria standard in C<a class="headerlink" href="#input-output-ed-altro-con-la-libreria-standard-in-c" title="Link a questa intestazione">¶</a></h1>
<p>Di seguito sono riportate le risposte (con <em>esempi di codice sorgente</em>) ad
alcune delle domande più frequenti riguardanti gli esercizi d'esame. Le
risposte sono organizzate secondo il seguente</p>
<div class="section" id="argomenti-sulla-linea-di-comando">
<h2>Argomenti sulla linea di comando<a class="headerlink" href="#argomenti-sulla-linea-di-comando" title="Link a questa intestazione">¶</a></h2>
<p>Per <em class="dfn">argomenti sulla linea di comando</em> si intendono tutte le parole
(stringhe massimali non contenenti spazio) che seguono il nome del comando
impartito all'interprete. Ad esempio, se avete compilato un programma in un
file di nome <code class="file docutils literal notranslate"><span class="pre">soluzione</span></code> e lo invocate tramite l'interprete come:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="o">/</span><span class="n">soluzione</span> <span class="n">uno</span>          <span class="mi">2</span> <span class="n">tr_e</span>
</pre></div>
</div>
<p>gli argomenti saranno le tre parole: <code class="docutils literal notranslate"><span class="pre">uno</span></code>, <code class="docutils literal notranslate"><span class="pre">2</span></code> e <code class="docutils literal notranslate"><span class="pre">tr_e</span></code>.</p>
<p>La funzione <code class="docutils literal notranslate"><span class="pre">main</span></code> che ha segnatura:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">main</span><span class="p">(</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[]</span> <span class="p">)</span>
</pre></div>
</div>
<p>può accedere a tali parole tramite l'array frastagliato <code class="docutils literal notranslate"><span class="pre">argv</span></code> il cui
<code class="docutils literal notranslate"><span class="pre">i</span></code>-esimo puntatore punta alla stringa corrispondente all'<code class="docutils literal notranslate"><span class="pre">i</span></code>-esimo
argomento (l'argomento di posto 0 è il nome del comando); il numero di
elementi contenuti nell'array è dato da <code class="docutils literal notranslate"><span class="pre">argc</span></code> (che quindi è pari ad uno più
del numero di argomenti).</p>
<p>Osservate che gli argomenti sono <em>stringhe</em>, qualora sia richiesto trattare
alcuni di essi come numeri sarà necessario usare una funzione di conversione,
come ad esempio <code class="docutils literal notranslate"><span class="pre">atoi</span></code>, o <code class="docutils literal notranslate"><span class="pre">atof</span></code> (per maggiori dettagli, si usi il comando
<strong class="command">man</strong>, o si veda la sezione <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/Parsing-of-Numbers.html">Parsing of Numbers</a> del manuale on-line
della <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/">GNU C Library</a>).</p>
<p>Si riporta, a titolo di esempio, un programma che, dati per argomenti alcuni
numeri interi, ne stampa la somma:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">somma</span><span class="p">,</span> <span class="n">i</span><span class="p">;</span>

    <span class="n">somma</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">argc</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">somma</span> <span class="o">+=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">somma</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Scarica il <a class="reference download internal" download="" href="_downloads/03b5b0482c15a67f20adab6eca835e8e/somma_args.c"><code class="xref download docutils literal notranslate"><span class="pre">codice</span> <span class="pre">sorgente</span></code></a> di questo esempio.</p>
</div>
<div class="section" id="input-output">
<h2>Input/Output<a class="headerlink" href="#input-output" title="Link a questa intestazione">¶</a></h2>
<div class="section" id="flussi-standard">
<h3>Flussi standard<a class="headerlink" href="#flussi-standard" title="Link a questa intestazione">¶</a></h3>
<p>Ad ogni processo sono associati (tra l'altro) due flussi standard, uno di
ingresso (o input), detto <em class="dfn">stdin</em>, ed uno di uscita (o output), detto
<em class="dfn">stdout</em>.</p>
<p>Qualora non diversamente specificato, le funzioni di libreria per l'I/O fanno
riferimento ad essi; quando si invoca un processo tramite l'interprete di
comandi (in assenza di <em>redirezione</em>), tali flussi sono, per così dire,
rispettivamente associati a &quot;tastiera&quot; e &quot;monitor&quot;. Potete trovare una
descrizione della redirezione nella <a class="reference internal" href="linux.html#linux-label"><span class="std std-ref">Introduzione a GNU/Linux</span></a> (citata tra il :ref
:<cite>labprog_mat-label</cite> del corso di programmazione).</p>
<p>Un elemento di particolare importanza è l'osservazione che un flusso di
ingresso può <em class="dfn">terminare</em>, ossia è possibile che il suo contenuto si
esaurisca e che quindi non sia più possibile leggere da esso. Tale condizione
è sovente segnalata (tra l'altro) dal valore di ritorno delle funzioni della
<a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/">GNU C Library</a> tramite il valore convenzionale <code class="docutils literal notranslate"><span class="pre">EOF</span></code> (definito nel file di
intestazione <code class="file docutils literal notranslate"><span class="pre">stdio.h</span></code>).</p>
<p>Nel caso di un processo invocato tramite l'interprete di comandi, quando il
flusso di ingresso è quello standard e non è stato rediretto, è possibile
<strong>segnalare la fine del flusso</strong>, o la sua terminazione, premendo <kbd class="kbd docutils literal notranslate">^D</kbd>
(ossia il tasto &quot;<kbd class="kbd docutils literal notranslate">control</kbd>&quot; contemporaneamente al tasto &quot;<kbd class="kbd docutils literal notranslate">d</kbd>&quot;) una
volta, se si è all'inizio della riga, o due volte altrimenti.</p>
</div>
<div class="section" id="non-formattato">
<h3>Non formattato<a class="headerlink" href="#non-formattato" title="Link a questa intestazione">¶</a></h3>
<p>Per I/O non formattato si intende l'elaborazione dell'ingresso ed uscita
considerati come sequenze di caratteri (o linee).</p>
<div class="section" id="orientato-al-carattere">
<h4>Orientato al carattere<a class="headerlink" href="#orientato-al-carattere" title="Link a questa intestazione">¶</a></h4>
<p>L'input orientato al carattere è adatto ai casi in cui si chieda di elaborare
i dati un carattere alla volta (particolarmente nel caso in cui ogni carattere
emesso dipenda dall'ultimo carattere letto).</p>
<p>Le due funzioni più rilevanti sono <code class="docutils literal notranslate"><span class="pre">getchar</span></code> e <code class="docutils literal notranslate"><span class="pre">putchar</span></code>, per maggiori
dettagli, si usi il comando <strong class="command">man</strong>, o si vedano le sezioni <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/Character-Input.html">Character
Input</a> e <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/Simple-Output.html">Simple Output</a> del manuale on-line della <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/">GNU C Library</a>.</p>
<p>Si riporta, a titolo di esempio, un programma che trascrive il suo ingresso
rendendo maiuscoli tutti i caratteri alfabetici:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;ctype.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">ch</span><span class="p">;</span>

    <span class="k">while</span> <span class="p">((</span><span class="n">ch</span> <span class="o">=</span> <span class="n">getchar</span><span class="p">())</span> <span class="o">!=</span> <span class="n">EOF</span><span class="p">)</span>
        <span class="n">putchar</span><span class="p">(</span><span class="n">isalpha</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span> <span class="o">?</span> <span class="n">toupper</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span> <span class="o">:</span> <span class="n">ch</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Scarica il <a class="reference download internal" download="" href="_downloads/6949ce5bd6353892a43b402b87341bdf/maiuscole.c"><code class="xref download docutils literal notranslate"><span class="pre">codice</span> <span class="pre">sorgente</span></code></a> di questo
esempio.</p>
</div>
<div class="section" id="orientato-alla-linea">
<h4>Orientato alla linea<a class="headerlink" href="#orientato-alla-linea" title="Link a questa intestazione">¶</a></h4>
<p>L'input orientato alla linea è adatto ai casi in cui si chieda di elaborare i
dati una linea per volta (particolarmente nel caso in cui ogni linea emessa
dipenda dall'ultima linea letta).</p>
<p>Le due funzioni più rilevanti sono <code class="docutils literal notranslate"><span class="pre">gets</span></code> e <code class="docutils literal notranslate"><span class="pre">puts</span></code>; particolare attenzione
va posta alla dimensione del buffer in cui effettuare la lettura: non c'è
garanzia che la funzione <code class="docutils literal notranslate"><span class="pre">gets</span></code> la rispetti, per questa ragione talvolta è
preferibile usare la funzione <code class="docutils literal notranslate"><span class="pre">fgets</span></code>. Per maggiori dettagli, si usi il
comando <strong class="command">man</strong>, o si vedano le sezioni <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/Line-Input.html">Line Input</a> e <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/Simple-Output.html">Simple
Output</a> del manuale on-line della <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/">GNU C Library</a>.</p>
<p>Si riporta, a titolo di esempio, un programma che legge le linee in ingresso e
ne stampa la lunghezza media (assumendo che la linea più lunga in ingresso
sia di 256 caratteri):</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;string.h&gt;</span><span class="cp"></span>

<span class="cp">#define MAX_LEN 256</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">tot</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">buffer</span><span class="p">[</span><span class="n">MAX_LEN</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>

    <span class="n">tot</span> <span class="o">=</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">fgets</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">MAX_LEN</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">stdin</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">tot</span> <span class="o">+=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="n">n</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">tot</span> <span class="o">/</span> <span class="n">n</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Scarica il <a class="reference download internal" download="" href="_downloads/5cf207007b36fd8b65b154e51947f3c1/media.c"><code class="xref download docutils literal notranslate"><span class="pre">codice</span> <span class="pre">sorgente</span></code></a> di questo esempio.</p>
</div>
</div>
<div class="section" id="formattato">
<h3>Formattato<a class="headerlink" href="#formattato" title="Link a questa intestazione">¶</a></h3>
<p>Per I/O formattato si intende l'elaborazione dell'ingresso ed uscita
attraverso apposite specifiche (dette <em class="dfn">stringe di formato</em>) che
definiscono come il suo contenuto debba essere presentato, o interpretato.</p>
<p>Il caso più tipico è quello per cui si voglia passare dal valore di una
variabile numerica alla sequenza di caratteri che corrispondono alla sua
rappresentazione decimale, o viceversa.</p>
<p>Le due funzioni più rilevanti sono <code class="docutils literal notranslate"><span class="pre">scanf</span></code> e <code class="docutils literal notranslate"><span class="pre">printf</span></code>, per maggiori
dettagli, si usi il comando <strong class="command">man</strong>, o si vedano le sezioni <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/Formatted-Input.html">Formatted
Input</a> e <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/Formatted-Output.html">Formatted Output</a> del manuale on-line della <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/">GNU C Library</a>.</p>
<p>Si riporta, a titolo di esempio, un programma che legge una sequenza di numeri
interi e ne stampa la somma:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">somma</span><span class="p">,</span> <span class="n">x</span><span class="p">;</span>

    <span class="n">somma</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="n">EOF</span><span class="p">)</span> <span class="n">somma</span> <span class="o">+=</span> <span class="n">x</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">somma</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Scarica il <a class="reference download internal" download="" href="_downloads/c97348878f3a92eea7b5fdec83989607/somma_stdin.c"><code class="xref download docutils literal notranslate"><span class="pre">codice</span> <span class="pre">sorgente</span></code></a> di questo
esempio.</p>
</div>
</div>
<div class="section" id="array-dinamici">
<h2>Array dinamici<a class="headerlink" href="#array-dinamici" title="Link a questa intestazione">¶</a></h2>
<p>Nello standard ANSI del C non sono previsti array dinamici. Risulta però
talvolta utile poter (ri)dimensionare un array nel corso dell'esecuzione del
programma. Per fare questo è necessario utilizzare le funzioni per la gestione
dinamica della memoria quali <code class="docutils literal notranslate"><span class="pre">malloc</span></code>, <code class="docutils literal notranslate"><span class="pre">free</span></code> e <code class="docutils literal notranslate"><span class="pre">realloc</span></code>; per maggiori
dettagli, si usi il comando <strong class="command">man</strong>, o si veda le sezione
<a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/Unconstrained-Allocation.html">Unconstrained Allocation</a> del manuale on-line della <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/">GNU C Library</a>.</p>
<p>Si riporta, a titolo di esempio, un programma che legge una sequenza di
lunghezza non specificata di numeri interi terminata da 0 e la stampa in
ordine inverso:</p>
<div class="highlight-c notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">i</span><span class="p">;</span>

    <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="o">*</span> <span class="n">n</span><span class="p">);</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(;;)</span> <span class="p">{</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">n</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span>
            <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span><span class="n">realloc</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="o">*</span> <span class="n">n</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">n</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span><span class="n">realloc</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="o">*</span> <span class="n">n</span><span class="p">);</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>

    <span class="n">free</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Scarica il <a class="reference download internal" download="" href="_downloads/70faaff07ab9fc0900c2d8debfd1a199/array.c"><code class="xref download docutils literal notranslate"><span class="pre">codice</span> <span class="pre">sorgente</span></code></a> di questo
esempio.</p>
<p>Il programma funziona come segue: puntatore <code class="docutils literal notranslate"><span class="pre">v</span></code> viene fatto corrispondere ad
uno spazio di dimensione <code class="docutils literal notranslate"><span class="pre">n</span></code> inizialmente pari a 1 (linee 8--9); quando,
durante la lettura, la dimensione <code class="docutils literal notranslate"><span class="pre">n</span></code> viene raggiunta dal numero <code class="docutils literal notranslate"><span class="pre">i</span></code> di
interi già letti, la dimensione allocata viene raddoppiata (linee 15--18); al
termine della lettura, la dimensione viene adattata all'esatto numero di
interi letti (linee 22--23) ed lo spazio allocato viene liberato (linea 28).</p>
</div>
<div class="section" id="stringhe">
<h2>Stringhe<a class="headerlink" href="#stringhe" title="Link a questa intestazione">¶</a></h2>
<div class="section" id="scrivere-un-numero-in-una-stringa">
<h3>Scrivere un numero in una stringa<a class="headerlink" href="#scrivere-un-numero-in-una-stringa" title="Link a questa intestazione">¶</a></h3>
<p>Talvolta può essere utile scrivere (i caratteri corrispondenti alla
rappresentazione decimale di un) numero in una stringa. Per farlo è
sufficiente usare la funzione <code class="docutils literal notranslate"><span class="pre">sprintf</span></code> che si comporta similmente alla
<code class="docutils literal notranslate"><span class="pre">printf</span></code>, ma invece che stampare il risultato della formattazione lo
memorizza nella locazione specificata; per maggiori dettagli, si usi il
comando <strong class="command">man</strong>, o si veda le sezione <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/Formatted-Output.html">Formatted Output</a> del
manuale on-line della <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/">GNU C Library</a>.</p>
<p>Si riporta, a titolo di esempio, un programma che stampa il numero ottenuto
concatenando la prima cifra di ciascuna delle prime dieci potenze di due:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="n">i</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>

    <span class="n">p</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">sprintf</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">);</span>
        <span class="n">putchar</span><span class="p">(</span><span class="n">buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
        <span class="n">p</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">putchar</span><span class="p">(</span><span class="sc">&#39;\n&#39;</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Scarica il <a class="reference download internal" download="" href="_downloads/db60dfdfc3cb0c2fe83192721a6605c7/sprintf.c"><code class="xref download docutils literal notranslate"><span class="pre">codice</span> <span class="pre">sorgente</span></code></a> di questo esempio.</p>
</div>
<div class="section" id="creare-una-copia-di-una-stringa">
<h3>Creare una copia di una stringa<a class="headerlink" href="#creare-una-copia-di-una-stringa" title="Link a questa intestazione">¶</a></h3>
<p>Ci sono casi in cui è necessario copiare una stringa (ad esempio letta dal
flusso di ingresso standard, oppure ottenuta tramite un letterale) per poterla
successivamente modificare senza influire sull'istanza originaria. Sebbene
tale compito possa essere portato a termine calcolando la lunghezza della
stringa con <code class="docutils literal notranslate"><span class="pre">strlen</span></code>, allocando lo spazio necessario a contenere la copia
con <code class="docutils literal notranslate"><span class="pre">malloc</span></code> e quindi copiando la stringa con <code class="docutils literal notranslate"><span class="pre">strcpy</span></code> (tutte funzioni che
dovrebbero esservi note), c'è una soluzione molto più semplice: la funzione
<code class="docutils literal notranslate"><span class="pre">strdup</span></code>; per maggiori dettagli, si usi il comando <strong class="command">man</strong>, o si veda
le sezione <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/Copying-and-Concatenation.html">Copying and Concatenation</a> del manuale on-line della <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/">GNU C
Library</a>.</p>
<p>Si riporta, a titolo di esempio, un programma che legge una sequenza di (al
più 10) stringhe (di al più 256 caratteri ciascuna) e le usa per popolare un
array frastagliato che poi stampa in ordine inverso:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;string.h&gt;</span><span class="cp"></span>

<span class="cp">#define MAX_LINES 10</span>
<span class="cp">#define MAX_LEN 256</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">linea</span><span class="p">[</span><span class="n">MAX_LINES</span><span class="p">],</span> <span class="n">buffer</span><span class="p">[</span><span class="n">MAX_LEN</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span class="p">,</span> <span class="n">buffer</span><span class="p">)</span> <span class="o">!=</span> <span class="n">EOF</span><span class="p">)</span>
        <span class="n">linea</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="n">strdup</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>

    <span class="k">while</span> <span class="p">(</span><span class="n">i</span><span class="o">--</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">linea</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Scarica il <a class="reference download internal" download="" href="_downloads/41d5998608d94c7b78a8fbddb16be46a/strdup.c"><code class="xref download docutils literal notranslate"><span class="pre">codice</span> <span class="pre">sorgente</span></code></a> di questo esempio.</p>
</div>
</div>
<div class="section" id="ordinamenti">
<h2>Ordinamenti<a class="headerlink" href="#ordinamenti" title="Link a questa intestazione">¶</a></h2>
<p>Se è necessario ordinare un array di dati (siano essi numeri, stringhe o dati
strutturati), si può usare la funzione <code class="docutils literal notranslate"><span class="pre">qsort</span></code> che ha la seguente segnatura:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">qsort</span><span class="p">(</span> <span class="kt">void</span> <span class="o">*</span><span class="n">array</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">count</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">size</span><span class="p">,</span> <span class="n">comparison_fn_t</span> <span class="n">compare</span> <span class="p">)</span>
</pre></div>
</div>
<p>dove il primo argomento è il puntatore all'array da ordinare, il secondo è il
numero di elementi in esso contenuti, il terzo è la dimensione (in byte) di
ciascun elemento del vettore ed, in fine, una funzione di comparazione.</p>
<p>Posto che l'array da ordinare abbia nome <code class="docutils literal notranslate"><span class="pre">array</span></code> (e se ne vogliano ordinare
tutti gli elementi), i primi tre argomenti sono dati rispettivamente da
<code class="docutils literal notranslate"><span class="pre">array</span></code>, <code class="docutils literal notranslate"><span class="pre">sizeof(</span> <span class="pre">array</span> <span class="pre">)</span> <span class="pre">/</span> <span class="pre">sizeof(</span> <span class="pre">array[</span> <span class="pre">0</span> <span class="pre">]</span> <span class="pre">)</span></code> e <code class="docutils literal notranslate"><span class="pre">sizeof(</span> <span class="pre">array[</span> <span class="pre">0</span> <span class="pre">]</span>
<span class="pre">)</span></code>. La funzione di comparazione è una funzione che dati due puntatori ad
elementi dell'array restituisce un intero <em>negativo</em>, <em>nullo</em>, o <em>positivo</em> a
seconda che l'elemento puntato dal primo puntatore sia, rispettivamente, da
considerarsi <em>minore</em>, <em>uguale</em>, o <em>maggiore</em> a quello puntato dal secondo
puntatore. Poiché <code class="docutils literal notranslate"><span class="pre">qsort</span></code> è del tutto generica, nella segnatura della
funzione di comparazione i puntatori non hanno tipo (ossia sono puntatori a
<code class="docutils literal notranslate"><span class="pre">void</span></code>), questo richiede un po' di attenzione nella scrittura della funzione
di comparazione che, per dereferenziare tali puntatori ed accedere ai valori
puntati da essi, dovrà dapprima fare un <em>cast</em> opportuno.</p>
<p>Si riportano a titolo di esempio due programmi che ordinano, rispettivamente,
un array di interi, ed un array (frastagliato) di stringhe. Il primo, è il
seguente:</p>
<p>Il programma che ordina in modo <em>crescente</em> gli interi è il seguente:</p>
<div class="highlight-c notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">compara</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">px</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">py</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span><span class="n">px</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span><span class="n">py</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">array</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">};</span>

    <span class="n">n</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">array</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="n">qsort</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">compara</span><span class="p">);</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span> <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Scarica il <a class="reference download internal" download="" href="_downloads/499cc83af55c4ccd569f14321afa9bc0/sort-int.c"><code class="xref download docutils literal notranslate"><span class="pre">codice</span> <span class="pre">sorgente</span></code></a> di questo esempio.</p>
<p>La funzione di comparazione (linee 4--11) effettua il cast dei puntatori
(linea 6) e quindi usando gli usuali operatori relazionali tra interi (linee
8--10) determina l'ordine dei due elementi. Per ottenere l'ordine
<em>decrescente</em> è sufficiente invertire 1 e -1 nella funzione di comparazione
(linee 8 e 9).</p>
<p>Il programma per ordinare in modo <em>crescente</em> le stringhe è il seguente:</p>
<div class="highlight-c notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;strings.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">compara</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">ps</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">pt</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="kt">char</span> <span class="o">**</span><span class="p">)</span><span class="n">ps</span><span class="p">,</span> <span class="o">*</span><span class="n">t</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="kt">char</span> <span class="o">**</span><span class="p">)</span><span class="n">pt</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">strcmp</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">;</span>

    <span class="kt">char</span> <span class="o">*</span><span class="n">array</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;ciao&quot;</span><span class="p">,</span> <span class="s">&quot;mamma&quot;</span><span class="p">,</span> <span class="s">&quot;bella&quot;</span><span class="p">};</span>

    <span class="n">n</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">array</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="n">qsort</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">compara</span><span class="p">);</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s &quot;</span><span class="p">,</span> <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Scarica il <a class="reference download internal" download="" href="_downloads/9663718d6be20ab060bbac38ce8f2368/sort-str.c"><code class="xref download docutils literal notranslate"><span class="pre">codice</span> <span class="pre">sorgente</span></code></a> di questo esempio.</p>
<p>In questo caso, la funzione di comparazione (linee 5--10) effettua il cast dei
puntatori (linea 7) e quindi delega il confronto alla funzione <code class="docutils literal notranslate"><span class="pre">strcmp</span></code> (si
osservi che <em>non sarebbe stato corretto</em> usare quest'ultima in vece della
funzione di comparazione perché <em>le segnature differiscono per i tipi dei
puntatori</em>). Per ottenere l'ordine <em>decrescente</em> è sufficiente anteporre un
segno - alla chiamata di <code class="docutils literal notranslate"><span class="pre">strcmp</span></code> (linea 9).</p>
<p>Per maggiori dettagli sull'argomento, si usi il comando <strong class="command">man</strong>, o si
veda le sezione <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/Searching-and-Sorting.html">Searching and Sorting</a> del manuale on-line della <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/">GNU C
Library</a>.</p>
</div>
</div>


    </main>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <div class="container">
      <a href="https://github.com/mapio/labprog"><img src="https://img.shields.io/github/stars/badges/shields.svg?style=social&label=Stars" alt="GitHub stars"></a>
      <a href="http://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/License-GPL%20v3-blue.svg" alt="License: GPL v3"></a>
      <a href="http://creativecommons.org/licenses/by-sa/4.0/"><img src="https://img.shields.io/badge/License-CC%20BY--SA%204.0-blue.svg" alt="License: CC BY-SA 4.0"></a>
      <span class="float-right">© Massimo Santini 2018 - 25/1/19</span>
  </div>
</footer>
<script defer src="https://use.fontawesome.com/releases/v5.0.10/js/all.js" integrity="sha384-slN8GvtUJGnv6ca26v8EzVaR9DC58QEwsIk9q1QXdCU8Yu8ck/tL/5szYlBbqmS+" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117753500-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-117753500-1');
  $(document).ready(function() {
      $('p > img').addClass('mx-auto d-block');
      $('.tocnav a').addClass('dropdown-item');
      $('.tocnav ul').css('list-style-type', 'none');
      $('.tocnav > ul').css('padding', '0');
  });
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Person",
  "name": "Massimo Santini",
  "url": "https://santini.di.unimi.it/",
  "sameAs": [
    "https://www.linkedin.com/in/massimosantini/",
    "https://twitter.com/mapio"
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "NewsArticle",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://google.com/article"
  },
  "headline": "Input/output (ed altro) con la libreria standard in C",
  "image": [
    "https://labprog.mapio.it/_static/logo.png"
   ],
  "datePublished": "2019-01-25T08:55:00.809614",
  "dateModified": "2019-01-25T08:55:00.809614",
  "author": {
    "@type": "Person",
    "name": "Massimo Santini"
  },
   "publisher": {
    "@type": "Organization",
    "name": "Dipartimento di Informatica",
    "logo": "http://www.unimi.it/img/universitaInterno.jpg"
  },
  "description": "Una raccolta di più di duecentocinquanta esercizi corredati di testcase e guide su GNU/Linux, Java e C."
}
</script>
  </body>
</html>